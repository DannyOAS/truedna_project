{% extends 'core/base.html' %}
{% block content %}
<section style="text-align: center; padding-bottom: 3rem;">
    <h2>Order Your Peace of Mind DNA Test Kit</h2>
    <p>Complete your order for our discreet, personal-use paternity test.</p>
</section>

<div class="two-column">
    <div>
        <div class="card" style="margin-bottom: 2.5rem; padding: 2rem;">
            <h3 class="card-title">Peace of Mind Kit</h3>
            <p class="card-text">For personal knowledge only. Our most discreet testing option with 99.99% accuracy.</p>
            <div style="font-size: 2.5rem; font-weight: 800; background: var(--primary-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; margin: 1.5rem 0;">
    {{ pricing.peace_of_mind_display }}
</div>
            <ul style="padding-left: 1.25rem; margin-bottom: 1.5rem; color: var(--gray-600);">
                <li>Results in 3-5 days</li>
                <li>Secure online results</li>
                <li>ISO-certified laboratory</li>
                <li>Discreet, unmarked packaging</li>
                <li>Simple at-home sample collection</li>
                <li>Privacy guaranteed</li>
            </ul>
        </div>
        
        <div style="background-color: var(--gray-50); padding: 2rem; border-radius: var(--radius-lg); margin-bottom: 2.5rem; box-shadow: var(--shadow-sm);">
            <h4 style="margin-top: 0; color: var(--dark);">Why Choose the Peace of Mind Kit?</h4>
            <p>Our Peace of Mind test is perfect when you need answers for personal knowledge only. This discreet test allows you to confirm paternity without anyone else knowing.</p>
            <p>The entire process can be handled privately, from the discreet packaging to the confidential online results.</p>
        </div>
        
        <div style="background-color: var(--gray-50); padding: 2rem; border-radius: var(--radius-lg); margin-bottom: 2.5rem; box-shadow: var(--shadow-sm);">
            <h4 style="margin-top: 0; color: var(--dark);">Need Assistance?</h4>
            <p>Our team is ready to help with your order.</p>
            <div style="display: flex; align-items: center; margin-top: 1.5rem;">
                <div style="width: 2.5rem; height: 2.5rem; border-radius: 50%; background: var(--primary-gradient); display: flex; align-items: center; justify-content: center; margin-right: 1rem;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z" fill="white"/>
                    </svg>
                </div>
                <div>
                    <div style="font-weight: 600; color: var(--dark);">Call Us</div>
                    <div>{{ company_phone }}</div>
                </div>
            </div>
            <div style="display: flex; align-items: center; margin-top: 1rem;">
                <div style="width: 2.5rem; height: 2.5rem; border-radius: 50%; background: var(--primary-gradient); display: flex; align-items: center; justify-content: center; margin-right: 1rem;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.6 14C16.4 13.5 16.2 13 16 12.6C15.8 12.2 15.6 11.8 15.4 11.4C15.9 10.9 16.4 10.4 16.8 9.9C17.3 9.4 17.7 8.9 18.1 8.3C18.5 7.7 18.7 7.1 18.7 6.5C18.7 5.9 18.5 5.4 18.1 5C17.7 4.6 17.2 4.4 16.6 4.4C16 4.4 15.5 4.6 15.1 5C14.7 5.4 14.5 5.9 14.5 6.5C14.5 7.1 14.7 7.7 15.1 8.3C15.5 8.9 15.9 9.4 16.4 9.9C16.8 10.4 17.3 10.9 17.8 11.4C17.6 11.8 17.4 12.2 17.2 12.6C17 13 16.8 13.5 16.6 14ZM8.9 14C8.7 13.5 8.5 13 8.3 12.6C8.1 12.2 7.9 11.8 7.7 11.4C8.2 10.9 8.7 10.4 9.1 9.9C9.6 9.4 10 8.9 10.4 8.3C10.8 7.7 11 7.1 11 6.5C11 5.9 10.8 5.4 10.4 5C10 4.6 9.5 4.4 8.9 4.4C8.3 4.4 7.8 4.6 7.4 5C7 5.4 6.8 5.9 6.8 6.5C6.8 7.1 7 7.7 7.4 8.3C7.8 8.9 8.2 9.4 8.7 9.9C9.1 10.4 9.6 10.9 10.1 11.4C9.9 11.8 9.7 12.2 9.5 12.6C9.3 13 9.1 13.5 8.9 14ZM12.8 21C12.9 21 13 21 13.1 20.9C13.2 20.9 13.2 20.8 13.3 20.7C15.2 19.3 16.7 17.7 17.8 15.8C18.9 14 19.4 12.2 19.4 10.4C19.4 8.6 18.8 7.1 17.5 5.9C16.3 4.7 14.7 4.1 12.8 4.1C10.9 4.1 9.3 4.7 8 5.9C6.8 7.1 6.1 8.6 6.1 10.4C6.1 12.2 6.6 14 7.7 15.8C8.8 17.7 10.3 19.3 12.2 20.7C12.3 20.8 12.3 20.9 12.4 20.9C12.5 21 12.6 21 12.8 21Z" fill="white"/>
                    </svg>
                </div>
                <div>
                    <div style="font-weight: 600; color: var(--dark);">WhatsApp</div>
                    <div><a href="https://wa.me/{{ company_whatsapp }}" style="color: var(--primary); font-weight: 500;">Chat Now</a></div>
                </div>
            </div>
        </div>
    </div>
    
    <div>
        <div class="card" style="padding: 2.5rem;">
            <form method="post" action="{% url 'submit_order' %}" class="order-form">
                {% csrf_token %}
                <input type="hidden" name="kit_type" value="peace-of-mind">
                
                <div class="form-group">
                    <label for="full_name" class="form-label">Full Name</label>
                    <input type="text" id="full_name" name="full_name" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel" id="phone" name="phone" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="address" class="form-label">Delivery Address</label>
                    <textarea id="address" name="address" class="form-control" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="city" class="form-label">City</label>
                    <input type="text" id="city" name="city" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="participants" class="form-label">Number of Test Participants</label>
                    <select id="participants" name="participants" class="form-control" required>
                        <option value="2">2 people (standard paternity test)</option>
                        <option value="3">3 people (including mother)</option>
                        <option value="4">4 people</option>
                        <option value="custom">More than 4 people</option>
                    </select>
                </div>
                
                <div id="customParticipants" class="form-group" style="display: none;">
                    <label for="custom_participants" class="form-label">Specify Number of Participants</label>
                    <input type="number" id="custom_participants" name="custom_participants" min="5" class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="payment_method" class="form-label">Payment Method</label>
                    <select id="payment_method" name="payment_method" class="form-control" required>
                        <option value="mobile_money">Mobile Money</option>
                        <option value="bank_transfer">Bank Transfer</option>
                        <option value="cash_delivery">Cash on Delivery</option>
                    </select>
                </div>
                
                <div id="mobileMoneyDetails" class="form-group">
                    <label for="mobile_money_provider" class="form-label">Mobile Money Provider</label>
                    <select id="mobile_money_provider" name="mobile_money_provider" class="form-control">
                        <option value="mtn">MTN Mobile Money</option>
                        <option value="vodafone">Vodafone Cash</option>
                        <option value="airteltigo">AirtelTigo Money</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="special_instructions" class="form-label">Special Instructions (Optional)</label>
                    <textarea id="special_instructions" name="special_instructions" class="form-control" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-checkbox">
                        <input type="checkbox" name="privacy_consent" required>
                        <span>I agree to the <a href="/terms/">Terms and Conditions</a> and <a href="/privacy/">Privacy Policy</a></span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label class="form-checkbox">
                        <input type="checkbox" name="testing_consent" required>
                        <span>I confirm I have the legal right to collect DNA samples from all participants</span>
                    </label>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">Place Order</button>
            </form>
        </div>
        
        <div style="margin-top: 2rem; padding: 1.5rem; background-color: var(--gray-50); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm);">
            <h4 style="margin-top: 0; display: flex; align-items: center; gap: 0.5rem; color: var(--dark);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z" fill="var(--primary)"/>
                </svg>
                Your Privacy Guarantee
            </h4>
            <p style="margin-bottom: 0; color: var(--gray-600);">
                All orders are processed with complete confidentiality. Your kit will arrive in unmarked packaging with no indication of the contents.
            </p>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const participantsSelect = document.getElementById('participants');
        const customParticipantsDiv = document.getElementById('customParticipants');
        const customParticipantsInput = document.getElementById('custom_participants');
        
        participantsSelect.addEventListener('change', function() {
            if (this.value === 'custom') {
                customParticipantsDiv.style.display = 'block';
                customParticipantsInput.setAttribute('required', 'required');
            } else {
                customParticipantsDiv.style.display = 'none';
                customParticipantsInput.removeAttribute('required');
            }
        });
        
        const paymentMethodSelect = document.getElementById('payment_method');
        const mobileMoneyDetailsDiv = document.getElementById('mobileMoneyDetails');
        
        paymentMethodSelect.addEventListener('change', function() {
            if (this.value === 'mobile_money') {
                mobileMoneyDetailsDiv.style.display = 'block';
            } else {
                mobileMoneyDetailsDiv.style.display = 'none';
            }
        });
    });
</script>
{% endblock %}
